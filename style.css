/* style.css — Version Intégrale avec Couleurs Originales et Correctif FAB */

:root {
  --bg: #f8f9fa;
  --card: #ffffff;
  --text: #222;
  --muted: #666;
  --border: #e0e0e0;
  
  /* Couleurs Sections VCM ORIGINALES */
  --section1: #e6f7f5; 
  --section2: #fff7e6; 
  --section3: #fff1f2; 
  
  /* Couleurs Actions ORIGINALES */
  --primary: #4f46e5; 
  --success: #10b981; 
  --danger: #ef4444;  
  
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  color: var(--text);
}

/* -----------------------------
   RESET & STRUCTURE
--------------------------------*/
* { box-sizing: border-box; }

body {
  margin: 0;
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  padding-bottom: 150px; /* Plus d'espace pour le bouton flottant */
}

/* TOPBAR */
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  background: #fff;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 4px rgba(0,0,0,0.03);
  position: sticky;
  top: 0;
  z-index: 1000; /* Priorité haute */
}

.brand { display: flex; gap: 12px; align-items: center; }
.logo { width: 56px; height: 56px; object-fit: cover; border-radius: 8px; border: 1px solid var(--border); }
.brand h1 { margin: 0; font-size: 1.2rem; font-weight: 700; }
.subtitle { font-size: 0.85rem; color: var(--muted); }

/* CONTROLES HEADER */
.controls select {
  padding: 10px 14px;
  border-radius: 8px;
  border: 1px solid #dbe2e8;
  background-color: #f0f4f8;
  font-family: inherit;
  font-weight: 600;
}

/* PLANNING */
main { max-width: 1100px; margin: 24px auto; padding: 0 16px; }
.dateDisplay { font-weight: 700; font-size: 1.1rem; margin-bottom: 15px; }

#planning {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  border: 1px solid var(--border);
  background: var(--card);
}

/* GRILLE DU TABLEUR */
.row {
  display: grid;
  grid-template-columns: 80px 1fr 70px 280px; 
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  background: var(--card);
  align-items: start;
}

/* COULEURS DES SECTIONS */
.row.section-1 { background: linear-gradient(90deg, var(--section1), #ffffff); }
.row.section-2 { background: linear-gradient(90deg, var(--section2), #ffffff); }
.row.section-3 { background: linear-gradient(90deg, var(--section3), #ffffff); }

.time { font-weight: 700; color: var(--muted); }
.personNoteContainer { display: flex; flex-direction: column; gap: 6px; }

.theme, .duration, .person, .note { 
  padding: 6px 8px; 
  border-radius: 6px; 
  min-height: 24px; 
}

.theme { font-weight: 500; }
.person { font-weight: 700; color: #000; }
.note { font-size: 13px; font-style: italic; background: rgba(0,0,0,0.03); color: #555; }
.duration { text-align: center; background: rgba(0,0,0,0.03); font-size: 0.9rem; }

.editable:focus { 
  outline: 2px solid var(--primary); 
  background: #fff; 
  box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
}

.sectionTitle { 
  padding: 12px 16px; 
  font-weight: 800; 
  background: #eaeaea; 
  font-size: 0.9rem; 
  text-transform: uppercase;
  color: #444;
}

/* -----------------------------
   SYSTÈME BOUTON FLOTTANT (FAB)
--------------------------------*/
.fab-container {
  position: fixed !important;
  bottom: 25px !important;
  right: 25px !important;
  top: auto !important; /* Neutralise toute erreur précédente */
  left: auto !important;
  z-index: 9999 !important;
  display: flex;
  flex-direction: column-reverse;
  align-items: flex-end;
  gap: 12px;
}

.fab-toggle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: var(--primary);
  color: white;
  border: none;
  font-size: 32px;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.fab-container.open .fab-toggle { transform: rotate(135deg); background-color: #3730a3; }

.button-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all 0.3s ease;
}

.fab-container.open .button-group { 
  opacity: 1; 
  visibility: visible; 
  transform: translateY(0); 
}

.button-group button {
  padding: 12px 20px;
  border-radius: 30px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  font-size: 14px;
  white-space: nowrap;
  font-family: inherit;
  transition: background 0.2s;
}

/* COULEURS DES BOUTONS FAB */
#pdfBtn { background-color: var(--primary); color: white; }
#saveBtn { background-color: var(--success); color: white; }
#resetBtn { background-color: #fef2f2; color: var(--danger); border: 1px solid #fee2e2; }
#changeChairmanBtn, #changeDateBtn, #changeScriptureBtn { 
  background-color: #ffffff; 
  color: #444; 
  border: 1px solid #ccc; 
}

#pdfBtn:hover { background-color: #4338ca; }
#saveBtn:hover { background-color: #059669; }

/* RESPONSIVE */
@media (max-width: 900px) {
  .row { grid-template-columns: 60px 1fr 50px; }
  .personNoteContainer { grid-column: 2 / -1; margin-top: -4px; }
  .topbar { flex-direction: column; gap: 10px; text-align: center; }
  .fab-container { bottom: 15px !important; right: 15px !important; }
}
